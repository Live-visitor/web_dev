<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Match-Up - GenerationBridge</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700;800&family=Atkinson+Hyperlegible:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    
</head>

<body class="youth-mode" data-page="match">
    <nav>
       <div class="nav-container">
            <a href="index.html" class="logo">GenerationBridge</a>
            <ul class="nav-links">
                <li><a href="index.html" class="nav-link">Home</a></li>
                <li><a href="chatbot.html" class="nav-link">AI Chat</a></li>
                <li><a href="translator.html" class="nav-link">Translator</a></li>
                <li><a href="match.html" class="nav-link">Match-Up</a></li>
                <li><a href="skillswap.html" class="nav-link">SkillSwap</a></li>
                <li><a href="stories.html" class="nav-link">Stories</a></li>
                <li><a href="events.html" class="nav-link">Events</a></li>
                <li><a href="messages.html" class="nav-link">Messages</a></li>
                <li><a href="settings.html" class="nav-link">Settings</a></li>
            </ul>
            <div class="nav-actions-right">
                <div class="mode-toggle" onclick="toggleMode()">
                    <span class="mode-label">Youth</span>
                    <div class="toggle-switch">
                        <div class="toggle-slider"></div>
                    </div>
                    <span class="mode-label">Senior</span>
                </div>
                <div class="notification-dropdown-container">
                    <button class="nav-icon-btn" id="notifications-toggle" onclick="toggleNotificationDropdown()">
                        <span class="nav-icon">üîî</span>
                        <span class="notification-badge" id="notificationBadge"></span>
                    </button>
                    <div class="dropdown-content" id="notification-dropdown">
                        <div class="dropdown-header">
                            <h4>Notifications</h4>
                            <a href="#" onclick="clearNotifications()">Clear All</a>
                        </div>
                        <div class="dropdown-list" id="dropdown-notification-list"></div>
                    </div>
                </div>
                <div class="profile-dropdown-container">
                    <button class="profile-icon-btn" onclick="toggleProfileDropdown()">
                        <span>üë§</span>
                    </button>
                    <div class="profile-dropdown" id="profile-dropdown">
                        <div class="profile-header">
                            <div class="profile-avatar-large">üë§</div>
                            <div class="profile-name" data-bind="profile-name">Guest</div>
                            <div class="profile-email" data-bind="profile-email"></div>
                        </div>
                        <div class="profile-bio" data-bind="profile-bio"></div>
                        <div class="profile-actions">
                            <button class="profile-btn profile-btn-edit" onclick="window.location.href='profile.html'">Edit Profile</button>
                            <button class="profile-btn profile-btn-logout" onclick="handleLogout()">Logout</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <main>
        <!-- Join Match-Up (left side) -->
        <button id="matchupJoinBtn" class="matchup-join-btn" onclick="joinMatchUp()">Join Match-Up</button>
        <h2>Interest Match-Up</h2>
        <p class="mb-3">Find people across generations who share your interests.</p>
        <div class="filter-bar" id="matchFilterBar">
            <button class="filter-btn active" data-filter="all" onclick="toggleMatchFilter(this)">All</button>
            <button class="filter-btn" data-filter="tech" onclick="toggleMatchFilter(this)">Tech</button>
            <button class="filter-btn" data-filter="art" onclick="toggleMatchFilter(this)">Art</button>
            <button class="filter-btn" data-filter="music" onclick="toggleMatchFilter(this)">Music</button>
            <button class="filter-btn" data-filter="cooking" onclick="toggleMatchFilter(this)">Cooking</button>
            <button class="filter-btn" data-filter="reading" onclick="toggleMatchFilter(this)">Reading</button>
            <button class="filter-btn" data-filter="sports" onclick="toggleMatchFilter(this)">Sports</button>
            <button class="filter-btn" data-filter="gaming" onclick="toggleMatchFilter(this)">Gaming</button>
            <button class="filter-btn" data-filter="gardening" onclick="toggleMatchFilter(this)">Gardening</button>
            <button class="filter-btn" data-filter="photography" onclick="toggleMatchFilter(this)">Photography</button>
            <button class="filter-btn" data-filter="travel" onclick="toggleMatchFilter(this)">Travel</button>
            <button class="filter-btn" data-filter="history" onclick="toggleMatchFilter(this)">History</button>
            <button class="filter-btn" data-filter="crafts" onclick="toggleMatchFilter(this)">Crafts</button>
        </div>
        <div class="grid grid-3" id="matchGrid">
            <div class="card empty-state">
                <h3>No matches yet</h3>
                <p class="mb-2">Matches will appear here once users join and add interests.</p>
            </div>


        </div>
    </main>


<template id="match-card-template">
    <div class="card match-card">
        <button class="report-chip" type="button" aria-label="Report user" onclick="window.matchApp.report(this)">üö© Report</button>

        <div class="match-avatar">üë§</div>

        <h3 class="card-title">User</h3>

        <div class="card-meta"></div>

        <div class="match-interests"></div>

        <p class="match-blurb"></p>

        <div class="card-actions">
            <button class="btn btn-primary start-chat-btn" type="button" onclick="window.matchApp.startChat(this)">Start Chat</button>
        </div>
    </div>
</template>
    <!-- Report Modal -->
    <div class="report-modal" id="reportModal">
        <div class="report-modal-content">
            <div class="report-modal-header">
                <h3>Report User</h3>
                <button class="report-close-btn" onclick="closeReportModal()"></button>
            </div>
            
            <div class="report-success-message" id="reportSuccessMessage">
                ‚úì Report submitted successfully. Our team will review it shortly.
            </div>

            <div class="report-modal-body" id="reportModalBody">
                <div class="report-info">
                    <strong>‚ö†Ô∏è Important:</strong> Reports are reviewed by our moderation team. False reports may result in account restrictions.
                </div>

                <form id="reportForm" onsubmit="submitReport(event)">
                    <input type="hidden" id="reportTargetType" value="">
                    <input type="hidden" id="reportTargetId" value="">
                    <input type="hidden" id="reportTargetName" value="">

                    <div class="report-form-group">
                        <label>Reason for Report *</label>
                        <div class="report-reason-grid">
                            <label class="report-reason-option">
                                <input type="radio" name="reportReason" value="inappropriate" required>
                                <span>Inappropriate content or behavior</span>
                            </label>
                            <label class="report-reason-option">
                                <input type="radio" name="reportReason" value="harassment" required>
                                <span>Harassment or bullying</span>
                            </label>
                            <label class="report-reason-option">
                                <input type="radio" name="reportReason" value="spam" required>
                                <span>Spam or misleading content</span>
                            </label>
                            <label class="report-reason-option">
                                <input type="radio" name="reportReason" value="hate" required>
                                <span>Hate speech or discrimination</span>
                            </label>
                            <label class="report-reason-option">
                                <input type="radio" name="reportReason" value="safety" required>
                                <span>Safety concerns</span>
                            </label>
                            <label class="report-reason-option">
                                <input type="radio" name="reportReason" value="impersonation" required>
                                <span>Impersonation or fake profile</span>
                            </label>
                            <label class="report-reason-option">
                                <input type="radio" name="reportReason" value="other" required>
                                <span>Other (please specify below)</span>
                            </label>
                        </div>
                    </div>

                    <div class="report-form-group">
                        <label for="reportDetails">Additional Details</label>
                        <textarea 
                            id="reportDetails" 
                            placeholder="Please provide any additional information that will help us understand and address this issue..."
                            maxlength="500"
                            oninput="updateCharCount()"
                            style="width: 100%; min-height: 120px; padding: 0.75rem; border-radius: 8px; border: 1px solid rgba(255,255,255,0.2); background: rgba(255,255,255,0.05); color: var(--youth-text); font-family: inherit; resize: vertical;"
                        ></textarea>
                        <div class="report-char-count" id="reportCharCount" style="text-align: right; font-size: 0.85rem; color: var(--youth-text-dim); margin-top: 0.25rem;">0 / 500</div>
                    </div>

                    <div class="report-modal-actions" style="display: flex; gap: 1rem; margin-top: 1.5rem;">
                        <button type="submit" class="btn btn-primary">Submit Report</button>
                        <button type="button" class="btn btn-secondary" onclick="closeReportModal()">Cancel</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <script src="js/classes/StateManager.js"></script>
    <script src="js/classes/ModeToggle.js"></script>
    <script src="js/classes/AccessibilityManager.js"></script>
    <script src="js/classes/SettingsManager.js"></script>
    <script src="js/classes/NotificationManager.js"></script>
    <script src="js/classes/ProfileManager.js"></script>
    <script src="js/classes/NavigationManager.js"></script>
    <script src="js/classes/FilterManager.js"></script>
    <script src="js/classes/GenerationBridgeApp.js"></script>
    <script src="script.js"></script>
</body>
</html>